<div class="video-container" [ngSwitch]="cameraIDs.length">

  <div *ngIf="notification" class="no-cameras">
    <p>{{ notification }}</p>
  </div>

  <div #singleCamera *ngSwitchCase="1" class="single-camera" (mouseenter)="canvasCloseButtons[0] = true" (mouseleave)="canvasCloseButtons[0] = false">
    <video #video1 appAfterRender muted></video>
    <!-- TODO: fix buttons position and appearance -->
    <button *ngIf="canvasCloseButtons[0]" mat-icon-button class="close-button" (click)="stopStream(0)">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div #twoCameras *ngSwitchCase="2" class="two-cameras">
    <div (mouseenter)="canvasCloseButtons[1] = true" (mouseleave)="canvasCloseButtons[1] = false">
      <video #video2 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[1]" mat-icon-button class="close-button" (click)="stopStream(1)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div (mouseenter)="canvasCloseButtons[2] = true" (mouseleave)="canvasCloseButtons[2] = false">
      <video #video3 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[2]" mat-icon-button class="close-button" (click)="stopStream(2)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <div #threeCameras *ngSwitchCase="3" class="three-cameras">
    <div (mouseenter)="canvasCloseButtons[3] = true" (mouseleave)="canvasCloseButtons[3] = false">
      <video #video4 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[3]" mat-icon-button class="close-button" (click)="stopStream(3)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div (mouseenter)="canvasCloseButtons[4] = true" (mouseleave)="canvasCloseButtons[4] = false">
      <video #video5 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[4]" mat-icon-button class="close-button" (click)="stopStream(4)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div (mouseenter)="canvasCloseButtons[5] = true" (mouseleave)="canvasCloseButtons[5] = false">
      <video #video6 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[5]" mat-icon-button class="close-button" (click)="stopStream(5)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <div #fourCameras *ngSwitchCase="4" class="four-cameras">
    <div (mouseenter)="canvasCloseButtons[6] = true" (mouseleave)="canvasCloseButtons[6] = false">
      <video #video7 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[6]" mat-icon-button class="close-button" (click)="stopStream(6)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div (mouseenter)="canvasCloseButtons[7] = true" (mouseleave)="canvasCloseButtons[7] = false">
      <video #video8 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[7]" mat-icon-button class="close-button" (click)="stopStream(7)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div (mouseenter)="canvasCloseButtons[8] = true" (mouseleave)="canvasCloseButtons[8] = false">
      <video #video9 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[8]" mat-icon-button class="close-button" (click)="stopStream(8)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <div (mouseenter)="canvasCloseButtons[9] = true" (mouseleave)="canvasCloseButtons[9] = false">
      <video #video10 appAfterRender muted></video>
      <button *ngIf="canvasCloseButtons[9]" mat-icon-button class="close-button" (click)="stopStream(9)">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <div *ngSwitchDefault class="no-cameras">
    <p>No Cameras connected</p>
  </div>

  <app-controls [cameraIDs]="cameraIDs" (cameraAdded)="addCamera($event)" />
</div>
